<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Tristan Server</title>

    <!-- Bootstrap -->
    <link href="js/bootstrap-3.3.7-dist/css/bootstrap.css" rel="stylesheet">

  </head>
  <body style="padding-top: 30px;">
  
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
			<a class="navbar-brand" rel="home" href="" title="Odin-Data">
	        <img style="max-width:40px; margin-top: -7px;" src="/img/odin_logo.jpg">
		    </a>
          <div class="navbar-brand">Tristan Server</div>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="home"><a href="#/home-view"> <span
                        class="glyphicon glyphicon-home"></span> <strong>Home</strong><span
                        class="label"></span></a></li>

                <li class="home"><a href="#/engineering-view"> <span
                        class="glyphicon glyphicon-home"></span> <strong>Engineering</strong><span
                        class="label"></span></a></li>

            </ul>
        </div>
      </div>
    </nav>

<!-- HOME PAGE -->
	<div class="container-fluid home-view page">
		<div class="row fluid-row">		
			<div class="span3">
				<div class="well sidebar-nav-fixed">
					<div class="container-fluid">
						<div class="row sidebar-title">
							<h3>Server Status</h3>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">API Version:</div>
							<div id="api-version" class="col-xs-5 m-5 status vertical-align">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">Adapters Loaded:</div>
							<div id="api-adapters" class="col-xs-5 status vertical-align">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">Detector Connection:</div>
							<div class="col-xs-5 status vertical-align">
								<table>
									<tr><td width="180px">Username:</td><td width="200px" align="center" id="detector-hw-username"></td></tr>
									<tr><td>Start Time:</td><td align="center" id="detector-hw-start-time"></td></tr>
									<tr><td>Up Time:</td><td align="center" id="detector-hw-up-time"></td></tr>
									<tr><td>Endpoint:</td><td align="center" id="detector-hw-endpoint"></td></tr>
									<tr><td>Connected:</td><td align="center" id="detector-hw-connected"></td></tr>
									<tr><td>Description:</td><td align="center" id="detector-hw-description"></td></tr>
									<tr><td>Firmware Version:</td><td align="center"><div id="detector-hw-version"></div><div id="detector-hw-version-good"></div></td></tr>
									<tr><td>Exposure:</td><td align="center" id="detector-hw-exposure"></td><td><span><input type="text" id="set-hw-exposure"></input></span></td></tr>
									<tr><td>Frames:</td><td align="center" id="detector-hw-frames"></td><td><span><input type="text" id="set-hw-frames"></input></span></td></tr>
									<tr><td>Frames Per Trigger:</td><td align="center" id="detector-hw-frames-per-trigger"></td><td><span><input type="text" id="set-hw-frames-per-trigger"></input></span></td></tr>
									<tr><td>Mode:</td><td align="center" id="detector-hw-mode"></td><td><select id="set-hw-mode">
										<option>Time_Energy</option>
										<option>Time_Only</option>
										<option>Count</option>
									</select></td></tr>
									<tr><td>Profile:</td><td align="center" id="detector-hw-profile"></td><td><select id="set-hw-profile">
										<option>Standard</option>
										<option>Fast</option>
										<option>Energy</option>
										<option>User</option>
										<option>Current</option>
									</select></td></tr>
									<tr><td>Command:</td><td align="center" id="detector-hw-state"></td><td>
										<span><button id="detector-arm-cmd">Arm</button></span>
										<span><button id="detector-run-cmd">Run</button></span>
										<span><button id="detector-stop-cmd">Stop</button></span>
										<span><button id="detector-abort-cmd">Abort</button></span>
										<span><button id="detector-dac-scan-cmd">DAC Scan</button></span>
									</td></tr>
								</table>
							</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">DAQ Connection:</div>
							<div class="col-xs-5 status vertical-align">
								<table>
									<tr><td width="180px" colspan="2">Connected:</td><td width="200px" align="center" id="fp-connected"></td>
										<td colspan="2"><span><button id="fp-config-cmd">Initialise DAQ</button></span></td></tr>
									<tr><td colspan="2">Empty Buffers:</td><td align="center" id="fr-empty-buffers"></td></tr>
									<tr><td width="180px" colspan="2">Operational Mode:</td><td width="200px" align="center" id="fp-op-mode"></td></tr>
									<tr id="fp-raw-row"><td width="180px" colspan="2">Decode Mode:</td><td width="200px" align="center" id="fp-raw-mode"></td>
										<td colspan="1"><span><button id="fp-config-raw-mode-on">Raw</button></span></td>
										<td colspan="1"><span><button id="fp-config-raw-mode-off">Process</button></span></td></tr>
									<tr><td>HDF Plugin:</td><td>Writing</td><td align="center" id="fp-hdf-writing"></td></tr>
									<tr><td></td><td>File</td><td align="center" id="fp-hdf-file-path"></td><td>File Path:</td><td><span><input type="text" id="set-fp-path"></input></span></td></tr>
									<tr><td></td><td>Acquisition ID</td><td align="center" id="fp-hdf-acq-id"></td><td>File Name:</td><td><span><input type="text" id="set-fp-filename"></input></span></td></tr>
									<tr><td></td><td>Processes</td><td align="center" id="fp-hdf-processes"></td><td colspan="2"><span><button id="fp-start-cmd">Start</button></span><span><button id="fp-stop-cmd">Stop</button></span></td></tr>
									<tr><td></td><td>Rank</td><td align="center" id="fp-hdf-rank"></td></tr>
									<tr><td></td><td>Values Written</td><td align="center" id="fp-hdf-written"></td></tr>
								</table>
							</div>
						</div>
					</div> <!-- container-fluid -->
				</div> <!--  well sidebar-nav-fixed -->
			</div> <!-- span3 -->
		</div> <!-- row fluid-row -->	
	</div> <!--  container-fluid -->
<!-- HOME PAGE -->
	<div class="container-fluid engineering-view page">
		<div class="row fluid-row">
			<div class="span3">
				<div class="well sidebar-nav-fixed">
					<div class="container-fluid">
						<div class="row sidebar-title">
							<h3>Engineering Command</h3>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">Detector Command:</div>
							<div class="col-xs-5 status vertical-align">
								<textarea rows="15" cols="80" id="engineering-cmd"></textarea>
								<span><button id="detector-config-put-cmd">Submit PUT</button></span>
								<span><button id="detector-config-get-cmd">Submit GET</button></span>
							</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">Detector Response:</div>
							<div class="col-xs-5 status vertical-align">
								<textarea readonly rows="15" cols="80" id="engineering-rsp"></textarea>
							</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
					</div> <!-- container-fluid -->
				</div> <!--  well sidebar-nav-fixed -->
			</div> <!-- span3 -->
		</div> <!-- row fluid-row -->
	</div> <!--  container-fluid -->

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="js/jquery-3.2.1.min.js" type="text/javascript"></script>
    <script src="js/jquery-ui.min.js" type="text/javascript"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap-3.3.7-dist/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="js/odin-data.js" type="text/javascript"></script>

</body>
</html>

