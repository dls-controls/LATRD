<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Tristan Server</title>

    <!-- Bootstrap -->
    <link href="js/bootstrap-3.3.7-dist/css/bootstrap.css" rel="stylesheet">

  </head>
  <body style="padding-top: 30px;">
  
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
			<a class="navbar-brand" rel="home" href="" title="Odin-Data">
	        <img style="max-width:40px; margin-top: -7px;" src="/img/odin_logo.jpg">
		    </a>
          <div class="navbar-brand">Tristan Server</div>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="home"><a href="#/home-view"> <span
                        class="glyphicon glyphicon-home"></span> <strong>Home</strong><span
                        class="label"></span></a></li>

                <li class="home"><a href="#/engineering-view"> <span
                        class="glyphicon glyphicon-home"></span> <strong>Engineering</strong><span
                        class="label"></span></a></li>

            </ul>
        </div>
      </div>
    </nav>

<!-- HOME PAGE -->
	<div class="container-fluid home-view page">
		<div class="row fluid-row">		
			<div class="span3">
				<div class="well sidebar-nav-fixed">
					<div class="container-fluid">
						<div class="row sidebar-title">
							<h3>Server Status</h3>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">API Version:</div>
							<div id="api-version" class="col-xs-5 m-5 status vertical-align">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">Adapters Loaded:</div>
							<div id="api-adapters" class="col-xs-5 status vertical-align">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">Detector Connection:</div>
							<div class="col-xs-5 status vertical-align">
								<table>
									<tr><td width="180px">Username:</td><td width="200px" align="center" id="detector-hw-username"></td></tr>
									<tr><td>Start Time:</td><td align="center" id="detector-hw-start-time"></td></tr>
									<tr><td>Up Time:</td><td align="center" id="detector-hw-up-time"></td></tr>
									<tr><td>Endpoint:</td><td align="center" id="detector-hw-endpoint"></td></tr>
									<tr><td>Connected:</td><td align="center" id="detector-hw-connected"></td></tr>
									<tr><td>Description:</td><td align="center" id="detector-hw-description"></td></tr>
									<tr><td>Firmware Version:</td><td align="center"><div id="detector-hw-version"></div><div id="detector-hw-version-good"></div></td></tr>
									<tr><td>Exposure:</td><td align="center" id="detector-hw-exposure"></td><td><span><input type="text" id="set-hw-exposure"></input></span></td></tr>
									<tr><td>Frames:</td><td align="center" id="detector-hw-frames"></td><td><span><input type="text" id="set-hw-frames"></input></span></td></tr>
									<tr><td>Frames Per Trigger:</td><td align="center" id="detector-hw-frames-per-trigger"></td><td><span><input type="text" id="set-hw-frames-per-trigger"></input></span></td></tr>
									<tr><td>Mode:</td><td align="center" id="detector-hw-mode"></td><td><select id="set-hw-mode">
										<option>time_energy</option>
										<option>time_only</option>
										<option>count</option>
									</select></td></tr>
									<tr><td>Profile:</td><td align="center" id="detector-hw-profile"></td><td><select id="set-hw-profile">
										<option>standard</option>
										<option>fast</option>
										<option>energy</option>
										<option>user</option>
										<option>current</option>
									</select></td></tr>
									<tr><td>Command:</td><td align="center" id="detector-hw-state"></td><td>
										<span><button id="detector-arm-cmd">Arm</button></span>
										<span><button id="detector-run-cmd">Run</button></span>
										<span><button id="detector-stop-cmd">Stop</button></span>
										<span><button id="detector-abort-cmd">Abort</button></span>
										<span><button id="detector-dac-scan-cmd">DAC Scan</button></span>
									</td></tr>
								</table>
							</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">DAQ Connection:</div>
							<div class="col-xs-5 status vertical-align">
								<table>
									<tr><td width="180px" colspan="2">FrameReceiver:</td>
									<td width="200px" align="center" id="fr-connected-1"></td>
									<td width="200px" align="center" id="fr-connected-2"></td>
									<td width="200px" align="center" id="fr-connected-3"></td>
									<td width="200px" align="center" id="fr-connected-4"></td>
									<td width="200px" align="center" id="fr-connected-5"></td>
									<td width="200px" align="center" id="fr-connected-6"></td>
									<td width="200px" align="center" id="fr-connected-7"></td>
									<td width="200px" align="center" id="fr-connected-8"></td>
									</tr>
									<tr><td width="180px" colspan="2">FrameProcessor:</td>
									<td width="200px" align="center" id="fp-connected-1"></td>
									<td width="200px" align="center" id="fp-connected-2"></td>
									<td width="200px" align="center" id="fp-connected-3"></td>
									<td width="200px" align="center" id="fp-connected-4"></td>
									<td width="200px" align="center" id="fp-connected-5"></td>
									<td width="200px" align="center" id="fp-connected-6"></td>
									<td width="200px" align="center" id="fp-connected-7"></td>
									<td width="200px" align="center" id="fp-connected-8"></td>
									</tr><!--<td colspan="2"><span><button id="fp-config-cmd">Initialise DAQ</button></span></td></tr>-->
									<!--<tr><td colspan="2">Debug Level:</td><td align="center"><span><input type="text" id="fp-debug-level" size="3"></input></span></td></tr>-->
									<tr><td colspan="2">Packets Received:</td>
									<td align="center" id="fr-packets-1"></td>
									<td align="center" id="fr-packets-2"></td>
									<td align="center" id="fr-packets-3"></td>
									<td align="center" id="fr-packets-4"></td>
									<td align="center" id="fr-packets-5"></td>
									<td align="center" id="fr-packets-6"></td>
									<td align="center" id="fr-packets-7"></td>
									<td align="center" id="fr-packets-8"></td>
									<td align="center"><span><button id="fr-reset-cmd">Reset</button></span></td>
									</tr>
									<tr><td colspan="2">Empty Buffers:</td>
									<td align="center" id="fr-empty-buffers-1"></td>
									<td align="center" id="fr-empty-buffers-2"></td>
									<td align="center" id="fr-empty-buffers-3"></td>
									<td align="center" id="fr-empty-buffers-4"></td>
									<td align="center" id="fr-empty-buffers-5"></td>
									<td align="center" id="fr-empty-buffers-6"></td>
									<td align="center" id="fr-empty-buffers-7"></td>
									<td align="center" id="fr-empty-buffers-8"></td>
									</tr>
									<tr><td colspan="2">Processes:</td>
									<td align="center" id="fp-processes-1"></td>
									<td align="center" id="fp-processes-2"></td>
									<td align="center" id="fp-processes-3"></td>
									<td align="center" id="fp-processes-4"></td>
									<td align="center" id="fp-processes-5"></td>
									<td align="center" id="fp-processes-6"></td>
									<td align="center" id="fp-processes-7"></td>
									<td align="center" id="fp-processes-8"></td>
									</tr>
									<tr><td colspan="2">Rank:</td>
									<td align="center" id="fp-rank-1"></td>
									<td align="center" id="fp-rank-2"></td>
									<td align="center" id="fp-rank-3"></td>
									<td align="center" id="fp-rank-4"></td>
									<td align="center" id="fp-rank-5"></td>
									<td align="center" id="fp-rank-6"></td>
									<td align="center" id="fp-rank-7"></td>
									<td align="center" id="fp-rank-8"></td>
									</tr>
									<tr><td colspan="2">Packets processed:</td>
										<td align="center" id="fp-pkts-processed-1"></td>
										<td align="center" id="fp-pkts-processed-2"></td>
										<td align="center" id="fp-pkts-processed-3"></td>
										<td align="center" id="fp-pkts-processed-4"></td>
										<td align="center" id="fp-pkts-processed-5"></td>
										<td align="center" id="fp-pkts-processed-6"></td>
										<td align="center" id="fp-pkts-processed-7"></td>
										<td align="center" id="fp-pkts-processed-8"></td>
									</tr>
									<tr><td colspan="2">Job Queue Size:</td>
										<td align="center" id="fp-job-q-1"></td>
										<td align="center" id="fp-job-q-2"></td>
										<td align="center" id="fp-job-q-3"></td>
										<td align="center" id="fp-job-q-4"></td>
										<td align="center" id="fp-job-q-5"></td>
										<td align="center" id="fp-job-q-6"></td>
										<td align="center" id="fp-job-q-7"></td>
										<td align="center" id="fp-job-q-8"></td>
									</tr>
									<tr><td colspan="2">Results Queue Size:</td>
										<td align="center" id="fp-result-q-1"></td>
										<td align="center" id="fp-result-q-2"></td>
										<td align="center" id="fp-result-q-3"></td>
										<td align="center" id="fp-result-q-4"></td>
										<td align="center" id="fp-result-q-5"></td>
										<td align="center" id="fp-result-q-6"></td>
										<td align="center" id="fp-result-q-7"></td>
										<td align="center" id="fp-result-q-8"></td>
									</tr>
									<tr><td colspan="2">Invalid Packets:</td>
										<td align="center" id="fp-invalid-pkt-1"></td>
										<td align="center" id="fp-invalid-pkt-2"></td>
										<td align="center" id="fp-invalid-pkt-3"></td>
										<td align="center" id="fp-invalid-pkt-4"></td>
										<td align="center" id="fp-invalid-pkt-5"></td>
										<td align="center" id="fp-invalid-pkt-6"></td>
										<td align="center" id="fp-invalid-pkt-7"></td>
										<td align="center" id="fp-invalid-pkt-8"></td>
									</tr>
									<tr><td colspan="2">Processed Frames:</td>
										<td align="center" id="fp-proc-frames-1"></td>
										<td align="center" id="fp-proc-frames-2"></td>
										<td align="center" id="fp-proc-frames-3"></td>
										<td align="center" id="fp-proc-frames-4"></td>
										<td align="center" id="fp-proc-frames-5"></td>
										<td align="center" id="fp-proc-frames-6"></td>
										<td align="center" id="fp-proc-frames-7"></td>
										<td align="center" id="fp-proc-frames-8"></td>
									</tr>
									<tr><td colspan="2">Output Frames:</td>
										<td align="center" id="fp-out-frames-1"></td>
										<td align="center" id="fp-out-frames-2"></td>
										<td align="center" id="fp-out-frames-3"></td>
										<td align="center" id="fp-out-frames-4"></td>
										<td align="center" id="fp-out-frames-5"></td>
										<td align="center" id="fp-out-frames-6"></td>
										<td align="center" id="fp-out-frames-7"></td>
										<td align="center" id="fp-out-frames-8"></td>
									</tr>
									<tr><td colspan="2">Writing:</td>
									<td align="center" id="fp-writing-1"></td>
									<td align="center" id="fp-writing-2"></td>
									<td align="center" id="fp-writing-3"></td>
									<td align="center" id="fp-writing-4"></td>
									<td align="center" id="fp-writing-5"></td>
									<td align="center" id="fp-writing-6"></td>
									<td align="center" id="fp-writing-7"></td>
									<td align="center" id="fp-writing-8"></td>
									</tr>
									<tr><td colspan="2">Values Written:</td>
									<td align="center" id="fp-written-1"></td>
									<td align="center" id="fp-written-2"></td>
									<td align="center" id="fp-written-3"></td>
									<td align="center" id="fp-written-4"></td>
									<td align="center" id="fp-written-5"></td>
									<td align="center" id="fp-written-6"></td>
									<td align="center" id="fp-written-7"></td>
									<td align="center" id="fp-written-8"></td>
									</tr>
									<tr id="fp-raw-row"><td width="180px" colspan="2">Decode Mode:</td>
									<td width="200px" align="center" id="fp-raw-mode-1"></td>
									<td width="200px" align="center" id="fp-raw-mode-2"></td>
									<td width="200px" align="center" id="fp-raw-mode-3"></td>
									<td width="200px" align="center" id="fp-raw-mode-4"></td>
									<td width="200px" align="center" id="fp-raw-mode-5"></td>
									<td width="200px" align="center" id="fp-raw-mode-6"></td>
									<td width="200px" align="center" id="fp-raw-mode-7"></td>
									<td width="200px" align="center" id="fp-raw-mode-8"></td>
  								<td colspan="1"><span><button id="fp-config-raw-mode-on">Raw</button></span></td>
									<td colspan="1"><span><button id="fp-config-raw-mode-off">Process</button></span></td>
									</tr>
									<tr id="fp-mode-row"><td width="180px" colspan="2">Operational Mode:</td>
									<td width="200px" align="center" id="fp-op-mode-1"></td>
									<td width="200px" align="center" id="fp-op-mode-2"></td>
									<td width="200px" align="center" id="fp-op-mode-3"></td>
									<td width="200px" align="center" id="fp-op-mode-4"></td>
									<td width="200px" align="center" id="fp-op-mode-5"></td>
									<td width="200px" align="center" id="fp-op-mode-6"></td>
									<td width="200px" align="center" id="fp-op-mode-7"></td>
									<td width="200px" align="center" id="fp-op-mode-8"></td>
									</tr>
									<!--
									<tr><td>HDF Plugin:</td><td>Writing</td><td align="center" id="fp-hdf-writing"></td></tr>
									-->
									<tr><td colspan="2">File</td><td align="center" id="fp-hdf-file-path" colspan="4"></td></tr>
									<tr><td colspan="2">File Path:</td><td colspan="4"><span><input type="text" id="set-fp-path"></input></span></td></tr>
									<tr><td colspan="2">File Name:</td><td colspan="4"><span><input type="text" id="set-fp-filename"></input></span></td></tr>
									<!--
									<tr><td></td><td>Processes</td><td align="center" id="fp-hdf-processes"></td><td colspan="2">
									-->
									<tr><td colspan="2">Write</td>
									<td align="center"><span><button id="fp-start-cmd">Start</button></span></td>
									<td align="center"><span><button id="fp-stop-cmd">Stop</button></span></td></tr>
									<!--
									<tr><td></td><td>Rank</td><td align="center" id="fp-hdf-rank"></td></tr>
									<tr><td></td><td>Values Written</td><td align="center" id="fp-hdf-written"></td></tr>-->
								</table>
							</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">Meta Data Writer:</div>
							<div class="col-xs-5 status vertical-align">
								<table>
									<tr><td width="180px" colspan="1">Initialised:</td><td width="200px" align="center" id="meta-init"></td></tr>
									<tr><td width="180px" colspan="1">Active:</td><td width="200px" align="center" id="meta-active"></td></tr>
									<tr><td width="180px" colspan="1">Writing:</td><td width="200px" align="center" id="meta-writing"></td></tr>
									<tr><td width="180px" colspan="1">Output file:</td><td width="200px" align="center" id="meta-out"></td></tr>
									<tr><td width="180px" colspan="1">Frames written:</td><td width="200px" align="center" id="meta-frames"></td></tr>
									<tr><td width="180px" colspan="1">Active writers:</td><td width="200px" align="center" id="meta-writers"></td></tr>
								</table>
							</div>
						</div>
					</div> <!-- container-fluid -->
				</div> <!--  well sidebar-nav-fixed -->
			</div> <!-- span3 -->
		</div> <!-- row fluid-row -->	
	</div> <!--  container-fluid -->
<!-- HOME PAGE -->
	<div class="container-fluid engineering-view page">
		<div class="row fluid-row">
			<div class="span3">
				<div class="well sidebar-nav-fixed">
					<div class="container-fluid">
						<div class="row sidebar-title">
							<h3>Engineering Command</h3>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">Detector Command:</div>
							<div class="col-xs-5 status vertical-align">
								<textarea rows="15" cols="80" id="engineering-cmd"></textarea>
								<span><button id="detector-config-put-cmd">Submit PUT</button></span>
								<span><button id="detector-config-get-cmd">Submit GET</button></span>
							</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">Detector Response:</div>
							<div class="col-xs-5 status vertical-align">
								<textarea readonly rows="15" cols="80" id="engineering-rsp"></textarea>
							</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
					</div> <!-- container-fluid -->
				</div> <!--  well sidebar-nav-fixed -->
			</div> <!-- span3 -->
		</div> <!-- row fluid-row -->
	</div> <!--  container-fluid -->

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="js/jquery-3.2.1.min.js" type="text/javascript"></script>
    <script src="js/jquery-ui.min.js" type="text/javascript"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap-3.3.7-dist/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="js/odin-data.js" type="text/javascript"></script>

</body>
</html>

